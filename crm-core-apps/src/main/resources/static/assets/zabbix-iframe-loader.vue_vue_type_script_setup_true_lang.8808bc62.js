import{c as z,b as k}from"./index.e9d54774.js";/* empty css                *//* empty css               */import{d as S,f as p,o as U,w as C,D as u,E as g,H as h,aH as L,aI as t,aS as e,aU as B,aV as I,aZ as T,G as V,cs as N,bt as Z,a_ as A,b0 as D,ct as E}from"./arco.a97fe066.js";import{g as H,a as w,s as q,h as F}from"./zabbix.d3c3bb08.js";const G={class:"page-container"},M={class:"page-panel",style:{height:"calc(100vh - 84px)"}},P=["src"],K=S({__name:"zabbix-iframe-loader",props:{menuUrl:{type:String},appendTime:{type:Boolean,default:!0}},setup(y){const _=y,c=z(),m=k(),l=p(!1),d=p(""),f=p(),x=async(o,i)=>{l.value=!0;const a=c.zabbixLoginUser;(!a||a!==o)&&(await q(),await F(o,i),c.zabbixLoginUser=o),d.value=_.menuUrl,_.appendTime&&(d.value+=`&t=${new Date().getTime()}`),setTimeout(()=>{l.value=!1},100)};return U(async()=>{if(m.userInfo.account){const o=(await H()).data;await x(m.userInfo.account,o)}}),C(()=>c.theme,o=>{if(f.value){const i=f.value.contentWindow.document,a=i.querySelector("head > meta:nth-child(12)").getAttribute("content");o==="light"?w("default",a).then(()=>{i.location.reload()}):o==="dark"&&w("dark-theme",a).then(()=>{i.location.reload()})}},{deep:!0,immediate:!0}),(o,i)=>{const a=N,n=Z,s=A,r=D,b=E;return u(),g("div",G,[h("div",M,[l.value?(u(),L(b,{key:0,animation:!0},{default:t(()=>[e(r,{style:{"margin-top":"16px"}},{default:t(()=>[e(s,{span:2,offset:1},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:1})]),_:1})]),_:1}),e(s,{span:2,offset:16},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:1})]),_:1})]),_:1}),e(s,{span:2,style:{"margin-left":"16px"}},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:1})]),_:1})]),_:1})]),_:1}),e(r,{style:{"margin-top":"56px"}},{default:t(()=>[e(s,{span:6,offset:6},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:6})]),_:1})]),_:1}),e(s,{span:6,style:{"margin-left":"16px"}},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:6})]),_:1})]),_:1})]),_:1}),e(r,{style:{"margin-top":"16px"}},{default:t(()=>[e(s,{span:2,offset:10},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:1})]),_:1})]),_:1}),e(s,{span:2,style:{"margin-left":"16px"}},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:1})]),_:1})]),_:1})]),_:1}),e(r,{style:{"margin-top":"56px"}},{default:t(()=>[e(s,{span:23,offset:1},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:6})]),_:1})]),_:1})]),_:1}),e(r,{style:{"margin-top":"16px"}},{default:t(()=>[e(s,{span:1}),(u(),g(B,null,I(4,v=>e(s,{key:v,span:2,style:{"margin-right":"16px"}},{default:t(()=>[e(n,{direction:"vertical",style:{width:"100%"},size:"large"},{default:t(()=>[e(a,{rows:1})]),_:1})]),_:2},1024)),64))]),_:1})]),_:1})):T("",!0),h("iframe",{ref_key:"zabbixIframe",ref:f,src:d.value,width:"100%",style:V([{border:"medium none"},{height:l.value?"0px":"calc(100vh - 114px)"}])},null,12,P)])])}}});export{K as _};
