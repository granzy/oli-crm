var b=function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=void 0,t=void 0,l=void 0,n=[];return function(){var d=T(o),v=new Date().getTime(),g=!s||v-s>d;s=v;for(var f=arguments.length,u=Array(f),a=0;a<f;a++)u[a]=arguments[a];if(g&&i.leading)return i.accumulate?Promise.resolve(r.call(this,[u])).then(function(m){return m[0]}):Promise.resolve(r.call.apply(r,[this].concat(u)));if(t?clearTimeout(l):t=P(),n.push(u),l=setTimeout(h.bind(this),d),i.accumulate){var p=n.length-1;return t.promise.then(function(m){return m[p]})}return t.promise};function h(){var c=t;clearTimeout(l),Promise.resolve(i.accumulate?r.call(this,n):r.apply(this,n[n.length-1])).then(c.resolve,c.reject),n=[],t=null}};function T(e){return typeof e=="function"?e():e}function P(){var e={};return e.promise=new Promise(function(r,o){e.resolve=r,e.reject=o}),e}export{b as d};
