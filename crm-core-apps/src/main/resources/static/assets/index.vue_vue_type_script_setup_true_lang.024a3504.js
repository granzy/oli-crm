import"./index.e9d54774.js";/* empty css                *//* empty css                */import{d as K,f as i,c as N,w as O,o as S,D as v,aH as f,bz as g,aO as k,cf as B}from"./arco.a97fe066.js";import{b as C}from"./zabbix.d3c3bb08.js";const D=K({__name:"index",props:{modelValue:{},appKey:{}},emits:["update:modelValue","update","changeTemplateName"],setup(h,{emit:V}){const u=i([]),m=i(!1),s=h,a=i(s.modelValue),o=V,y=async()=>{const{data:e}=await C();u.value=e,e.length===1&&(m.value=!0)},T=N(()=>{const e=[],t=u.value;if(t.length>0)if(s.appKey){const p=t.filter(l=>l.value===s.appKey);p.length>0&&e.push(...p[0].children)}else m.value&&e.push(...t[0].children);return e});O(()=>s.modelValue,e=>{a.value=e},{deep:!0,immediate:!0});const r=i(),c=e=>{const t=e.split("/")[0],p=e.split("/")[1],l=u.value.filter(n=>n.value===t);return l&&l.length>0&&l[0].children&&l[0].children.length>0?l[0].children.filter(w=>w.id===p)[0].label:""},d=e=>{typeof e=="string"?r.value=c(e):r.value=e.map(t=>c(t)).join(",")};return S(()=>{y()}),(e,t)=>{const p=k,l=B;return m.value||s.appKey?(v(),f(p,g({key:0,modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=n=>a.value=n),"virtual-list-props":{height:200},options:T.value,"trigger-props":{updateAtScroll:!0},"allow-search":"","allow-clear":"",placeholder:"\u8BF7\u9009\u62E9"},e.$attrs,{onChange:t[1]||(t[1]=()=>{d(a.value),o("update:modelValue",a.value),o("update",a.value),o("changeTemplateName",r.value)})}),null,16,["modelValue","options"])):(v(),f(l,g({key:1,modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=n=>a.value=n),options:u.value,"trigger-props":{updateAtScroll:!0},placeholder:"\u8BF7\u9009\u62E9","allow-search":"","allow-clear":""},e.$attrs,{"virtual-list-props":{height:200},onChange:t[3]||(t[3]=()=>{d(a.value),o("update:modelValue",a.value),o("update",a.value),o("changeTemplateName",r.value)})}),null,16,["modelValue","options"]))}}});export{D as _};
